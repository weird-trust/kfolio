{"id":"lGem","dependencies":[{"name":"/Users/robert/Sites/portfolio-klara/portfolio/www/site/plugins/kirby-srcset/.babelrc","includedInParent":true,"mtime":1633110208000},{"name":"/Users/robert/Sites/portfolio-klara/portfolio/www/site/plugins/kirby-srcset/package.json","includedInParent":true,"mtime":1654604734126},{"name":"/Users/robert/Sites/portfolio-klara/portfolio/postcss.config.js","includedInParent":true,"mtime":1636889291732}],"generated":{"js":"\"use strict\";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function e(e){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?t(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var s={icon:\"image\",data:function(){return{options:[]}},props:{endpoints:Object,attrs:{type:Object,default:function(){return{}}}},computed:{style:function(){if(this.attrs.ratio)return\"padding-bottom:\"+100/this.attrs.ratio+\"%\"},fields:function(){return{alt:{label:this.$t(\"editor.blocks.srcset.alt.label\"),type:\"text\",icon:\"text\"},css:{label:this.$t(\"editor.blocks.srcset.css.label\"),type:\"text\",icon:\"code\"},width:{label:this.$t(\"editor.blocks.srcset.width.label\"),type:\"number\",after:\"px\"},height:{label:this.$t(\"editor.blocks.srcset.height.label\"),type:\"number\",after:\"px\"},imgclass:{label:this.$t(\"editor.blocks.srcset.imgclass.label\"),type:\"text\",icon:\"code\"},link:{label:this.$t(\"editor.blocks.srcset.link.label\"),type:\"text\",icon:\"url\",placeholder:this.$t(\"editor.blocks.srcset.link.placeholder\")},linkclass:{label:this.$t(\"editor.blocks.srcset.linkclass.label\"),type:\"text\",icon:\"code\"},rel:{label:this.$t(\"editor.blocks.srcset.rel.label\"),type:\"text\",icon:\"code\"},target:{label:this.$t(\"editor.blocks.srcset.target.label\"),type:\"text\",icon:\"code\"},title:{label:this.$t(\"editor.blocks.srcset.title.label\"),type:\"text\",icon:\"text\"},sizes:{label:this.$t(\"editor.blocks.srcset.sizes.label\"),type:\"text\",icon:\"code\",placeholder:\"default\"},lazy:{label:this.$t(\"editor.blocks.srcset.lazy.label\"),type:\"text\",icon:\"code\",placeholder:this.options.lazy},prefix:{label:this.$t(\"editor.blocks.srcset.prefix.label\"),type:\"text\",icon:\"code\",placeholder:this.options.prefix},autosizes:{label:this.$t(\"editor.blocks.srcset.autosizes.label\"),type:\"text\",icon:\"code\",placeholder:this.options.autosizes},quality:{label:this.$t(\"editor.blocks.srcset.quality.label\"),type:\"number\",after:\"px\",placeholder:this.options.quality},figure:{label:this.$t(\"editor.blocks.srcset.figure.label\"),type:\"text\",icon:\"code\",placeholder:this.options.figure}}}},mounted:function(){this.fetchOptions(\"bnomei/srcset/options\")},methods:{fetchOptions:function(t){var e=this;this.$api.get(t).then(function(t){e.$nextTick(function(){e.options=t})})},caption:function(t){this.input({caption:t})},edit:function(){this.attrs.guid&&this.$router.push(this.attrs.guid)},focus:function(){this.$refs.element.focus()},input:function(t){this.$emit(\"input\",{attrs:e(e({},this.attrs),t)})},fetchFile:function(t){var e=this;this.$api.get(t).then(function(t){e.input({guid:t.link,src:t.url,id:t.id,ratio:t.dimensions.ratio})})},insertFile:function(t){var e=t[0];this.fetchFile(e.link)},insertUpload:function(t,e){this.fetchFile(e[0].link)},menu:function(){return this.attrs.src?[{icon:\"open\",label:this.$t(\"editor.blocks.srcset.open.browser\"),clicks:this.open},{icon:\"edit\",label:this.$t(\"editor.blocks.srcset.open.panel\"),click:this.edit,disabled:!this.attrs.guid},{icon:\"cog\",label:this.$t(\"editor.blocks.srcset.settings\"),click:this.$refs.settings.open},{icon:\"image\",label:this.$t(\"editor.blocks.srcset.replace\"),click:this.replace}]:[]},open:function(){window.open(this.attrs.src)},onLoad:function(){var t=this.$refs.image;!this.attrs.ratio&&t&&t.width&&t.height&&this.input({ratio:t.width/t.height})},replace:function(){this.$emit(\"input\",{attrs:{}})},selectFile:function(){this.$refs.fileDialog.open({endpoint:this.endpoints.field+\"/files\",multiple:!1,selected:[this.attrs.id]})},settings:function(){this.$refs.settings.open()},saveSettings:function(){this.$refs.settings.close(),this.input(this.attrs)},uploadFile:function(){this.$refs.fileUpload.open({url:window.panel.api+\"/\"+this.endpoints.field+\"/upload\",multiple:!1,accept:\"image/*\"})}}};exports.default=s;\n(function(){var e=exports.default||module.exports;\"function\"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"figure\",[e.attrs.src?[s(\"div\",{ref:\"element\",staticClass:\"k-editor-image-block-wrapper\",style:e.style,attrs:{\"data-responsive\":e.attrs.ratio,tabindex:\"0\"},on:{keydown:[function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"delete\",[8,46],t.key,[\"Backspace\",\"Delete\",\"Del\"])?null:e.$emit(\"remove\")},function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.$emit(\"append\")},function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"up\",38,t.key,[\"Up\",\"ArrowUp\"])?null:(t.preventDefault(),e.$emit(\"prev\"))},function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"down\",40,t.key,[\"Down\",\"ArrowDown\"])?null:(t.preventDefault(),e.$emit(\"next\"))}]}},[s(\"img\",{key:e.attrs.src,ref:\"image\",attrs:{src:e.attrs.src},on:{dblclick:e.selectFile,load:e.onLoad}})]),e._v(\" \"),s(\"div\",{staticClass:\"lazysrcset-icon\"},[s(\"k-button\",{attrs:{icon:\"cog\"},on:{click:e.settings}},[e._v(e._s(e.$t(\"editor.blocks.srcset.icon\"))+\" \")])],1),e._v(\" \"),s(\"figcaption\",[s(\"k-editable\",{attrs:{content:e.attrs.caption,breaks:!0,placeholder:e.$t(\"editor.blocks.srcset.caption.placeholder\")+\"â€¦\"},on:{input:e.caption}})],1)]:[s(\"div\",{ref:\"element\",staticClass:\"k-editor-image-block-placeholder\",attrs:{tabindex:\"0\"}},[s(\"k-button\",{attrs:{icon:\"upload\"},on:{click:e.uploadFile}},[e._v(e._s(e.$t(\"editor.blocks.srcset.upload\"))+\" \")]),e._v(\" \"+e._s(e.$t(\"editor.blocks.srcset.or\"))+\" \"),s(\"k-button\",{attrs:{icon:\"image\"},on:{click:e.selectFile}},[e._v(e._s(e.$t(\"editor.blocks.srcset.select\"))+\" \")])],1)]],2),e._v(\" \"),s(\"k-dialog\",{ref:\"settings\",attrs:{size:\"medium\"},on:{submit:e.saveSettings}},[s(\"k-form\",{attrs:{fields:e.fields},on:{submit:e.saveSettings},model:{value:e.attrs,callback:function(t){e.attrs=t},expression:\"attrs\"}})],1),e._v(\" \"),s(\"k-files-dialog\",{ref:\"fileDialog\",on:{submit:function(t){return e.insertFile(t)}}}),e._v(\" \"),s(\"k-upload\",{ref:\"fileUpload\",on:{success:e.insertUpload}})],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();","css":".k-editor-image-block{margin:1.5rem 0}.k-editor-image-block figure{line-height:0}.k-editor-image-block-wrapper img{width:100%}.k-editor-image-block-wrapper[data-responsive] img{position:absolute;top:0;right:0;bottom:0;left:0;-o-object-fit:contain;object-fit:contain;height:100%}.k-editor-image-block-wrapper[data-responsive]{position:relative;padding-bottom:66.66%;background:#2d2e36}.k-editor-image-block-wrapper:focus{outline:0}.k-editor-image-block-wrapper:focus img{outline:2px solid rgba(66,113,174,.25);outline-offset:2px}.k-editor-image-block figcaption{display:block;margin-top:.75rem}.k-editor-image-block .k-editable-placeholder,.k-editor-image-block .ProseMirror{text-align:center;font-size:.875rem;line-height:1.5em}.k-editor-image-block-placeholder{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-style:italic;font-size:.875rem;width:100%;border:1px dashed #ddd;border-radius:3px;text-align:center;color:#bbb}.k-editor-image-block-placeholder:focus{outline:0}.k-editor-image-block-placeholder .k-button{padding:.75rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#000;margin:0 .5rem}.lazysrcset-icon,.lazysrcset-icon>button{width:100%;text-align:right}.lazysrcset-icon>button{display:inline-block;color:#fff;background-color:#000;padding:.25rem .5rem}"},"sourceMaps":null,"error":null,"hash":"86263df03604f839ffbbb65e46bcb6e4","cacheData":{"env":{}}}